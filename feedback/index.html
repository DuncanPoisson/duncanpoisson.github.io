<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Feedback</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #020617;
      --fg: #f9fafb;
      --max-width: 720px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background: radial-gradient(circle at top, #0f172a 0, #020617 60%);
      color: var(--fg);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
      line-height: 1.6;
    }

    main {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 0 1.5rem 6rem;
    }

    /* HERO */

    section.hero {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 4rem 0;
      position: relative;      /* so canvas can sit inside */
      overflow: hidden;        /* hide nodes that go out of bounds */
    }

    /* Network canvas behind the text */
    .hero-network {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      opacity: 0.45;           /* how bright the network is overall */
    }

    .hero-title {
      font-size: clamp(4rem, 10vw, 7rem); /* bigger title */
      font-weight: 600;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      text-align: center;
      margin-bottom: 2rem;
      opacity: 0;
      transform: translateY(16px) scale(1.05);
      transform-origin: center center;
      transition: opacity 0.7s ease-out, transform 0.7s ease-out;
      will-change: transform;
      position: relative;
      z-index: 1; /* above the canvas */
    }

    .hero-title.visible {
      /* applied on page load */
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    .hero-quote {
      max-width: 32rem;
      margin: 0 auto;
      text-align: center;
      font-size: 1.05rem;
      color: #e5e7eb;
      opacity: 0;
      transform: translateY(16px);
      transition: opacity 0.4s ease, transform 0.4s ease;
      position: relative;
      z-index: 1; /* above the canvas */
    }

    .hero-quote.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* INTRO SECTION */

    section.intro {
      min-height: 100vh; /* its own full "screen" */
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 4rem 0;
    }

    .intro-heading {
      font-size: 2.2rem;
      font-weight: 600;
      text-align: center;
      margin-bottom: 1.5rem;
    }

    .intro-body {
      max-width: 40rem;
      margin: 0 auto;
      text-align: left;
    }

    .intro-body p + p {
      margin-top: 1rem;
    }

    /* CORE IDEAS */

    .core-ideas {
      margin-top: 3rem;
    }

    .core-ideas-eyebrow {
      font-size: 0.75rem;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      color: #9ca3af;
      text-align: center;
      margin-bottom: 0.75rem;
    }

    .core-ideas-heading {
      font-size: 1.2rem;
      text-align: center;
      color: #e5e7eb;
      margin-bottom: 2rem;
    }

    .core-ideas-list {
      display: flex;
      flex-direction: column;
      gap: 2.5rem;
    }

    .core-idea-row {
      display: grid;
      grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
      gap: 2rem;
      align-items: center;
    }

    .core-idea-side {
      display: flex;
      justify-content: center;
    }

    .core-idea-pill {
      position: relative;
      width: 140px;
      height: 140px;
      border-radius: 9999px;
      background: #f9fafb;
      color: #020617;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 1rem;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.35);
      transition: transform 0.18s ease, box-shadow 0.18s ease;
      outline: none;
    }

    .core-idea-pill:hover,
    .core-idea-pill:focus-visible {
      transform: translateY(-2px);
      box-shadow: 0 14px 40px rgba(15, 23, 42, 0.5);
    }

    .core-idea-label {
      pointer-events: none;
    }

    .core-idea-detail {
      position: absolute;
      left: 50%;
      top: 100%;
      transform: translate(-50%, 12px);
      width: 240px;
      max-width: 75vw;
      background: rgba(15, 23, 42, 0.98);
      color: #e5e7eb;
      font-size: 0.85rem;
      padding: 0.75rem 0.9rem;
      border-radius: 0.75rem;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.6);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.25s ease, transform 0.25s ease;
      z-index: 20;
    }

    .core-idea-pill:hover .core-idea-detail,
    .core-idea-pill:focus-visible .core-idea-detail {
      opacity: 1;
      transform: translate(-50%, 4px);
      pointer-events: auto;
    }

    .core-idea-animation {
      min-height: 140px;
      border-radius: 1rem;
      border: 1px dashed rgba(148, 163, 184, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      font-size: 0.8rem;
      color: #9ca3af;
      text-align: center;
    }

    .core-idea-animation span {
      max-width: 14rem;
    }

    /* Mobile stacking */

    @media (max-width: 768px) {
      .core-idea-row {
        grid-template-columns: 1fr;
      }

      .core-idea-side {
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <main>
    <!-- HERO -->
    <section class="hero" id="hero">
      <!-- network canvas -->
      <canvas class="hero-network" id="heroNetwork"></canvas>

      <h1 class="hero-title" id="heroTitle">Feedback</h1>
      <p class="hero-quote" id="heroQuote">
        "Systems of information feedback control are fundamental to all 
        life and human endeavor, from the slow pace of biological evolution 
        to the launching of the latest space satellite... Everything we do 
        as individuals, as an industry, or as a society is done in the 
        context of an information-feedback system." — Jay W. Forrester
      </p>
    </section>

    <!-- INTRO -->
    <section class="intro" id="intro">
      <h2 class="intro-heading">
        Understanding Feedback: The Architecture of Change
      </h2>
      <div class="intro-body">
        <p>
          Every system that changes over time - from your morning coffee cooling 
          down to global economies rising and falling - is fundamentally shaped by 
          feedback. But feedback isn't just about responses; it's about how those 
          responses circle back to influence what happens next, creating loops of 
          cause and effect that define how our world behaves.
        </p>
        <p>
          To truly understand feedback, we need to recognize five fundamental patterns 
          that appear again and again. As you continue scrolling, this section will 
          eventually lead into the five core ideas of feedback
        </p>

        <!-- CORE IDEAS BLOCK -->
        <div class="core-ideas" id="coreIdeas">
          <div class="core-ideas-eyebrow">Five core ideas</div>
          <div class="core-ideas-heading">
            Hover over each circle to see how it shapes system behavior.
          </div>

          <div class="core-ideas-list">
            <!-- Row 1: [button | animation] -->
            <div class="core-idea-row">
              <div class="core-idea-side">
                <div class="core-idea-pill" tabindex="0" role="button">
                  <span class="core-idea-label">Negative Feedback</span>
                  <div class="core-idea-detail">
                    Negative feedback pushes a system back toward a target when it
                    drifts. Think of a thermostat turning the heat on and off to
                    keep a room near a set temperature.
                  </div>
                </div>
              </div>
              <div class="core-idea-side">
                <div class="core-idea-animation">
                  <span>Animation: a line wandering up and down, settling into a band.</span>
                </div>
              </div>
            </div>

            <!-- Row 2: [animation | button] -->
            <div class="core-idea-row">
              <div class="core-idea-side">
                <div class="core-idea-animation">
                  <span>Animation: a curve that starts small and then explodes outward.</span>
                </div>
              </div>
              <div class="core-idea-side">
                <div class="core-idea-pill" tabindex="0" role="button">
                  <span class="core-idea-label">Positive Feedback</span>
                  <div class="core-idea-detail">
                    Positive feedback amplifies change. Growth feeds on itself:
                    rumors that spread faster as more people talk, or debt that
                    snowballs under compound interest.
                  </div>
                </div>
              </div>
            </div>

            <!-- Row 3: [button | animation] -->
            <div class="core-idea-row">
              <div class="core-idea-side">
                <div class="core-idea-pill" tabindex="0" role="button">
                  <span class="core-idea-label">Oscillations &amp; Delays</span>
                  <div class="core-idea-detail">
                    When feedback arrives late, systems overcorrect. They overshoot,
                    then swing back, creating cycles – like traffic waves, business
                    booms and busts, or overshooting a shower temperature.
                  </div>
                </div>
              </div>
              <div class="core-idea-side">
                <div class="core-idea-animation">
                  <span>Animation: a signal that overshoots and oscillates before calming down.</span>
                </div>
              </div>
            </div>

            <!-- Row 4: [animation | button] -->
            <div class="core-idea-row">
              <div class="core-idea-side">
                <div class="core-idea-animation">
                  <span>Animation: a network where a perturbation ripples through many nodes.</span>
                </div>
              </div>
              <div class="core-idea-side">
                <div class="core-idea-pill" tabindex="0" role="button">
                  <span class="core-idea-label">Connectivity</span>
                  <div class="core-idea-detail">
                    Connectivity is how tightly the parts of a system are linked.
                    More connections can spread help or harm quickly – enabling
                    resilience, but also making cascading failures more likely.
                  </div>
                </div>
              </div>
            </div>

            <!-- Row 5: [button | animation] -->
            <div class="core-idea-row">
              <div class="core-idea-side">
                <div class="core-idea-pill" tabindex="0" role="button">
                  <span class="core-idea-label">Leverage Points</span>
                  <div class="core-idea-detail">
                    Leverage points are places where a small change shifts overall
                    behavior – changing the rules, goals, or information flows of a
                    system rather than just turning a knob a little harder.
                  </div>
                </div>
              </div>
              <div class="core-idea-side">
                <div class="core-idea-animation">
                  <span>Animation: a tiny nudge at one node changing the whole pattern.</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- END CORE IDEAS -->
      </div>
    </section>
  </main>

  <!-- network animation logic -->
  <script src="hero-network.js"></script>

  <!-- hero scroll + title fade logic -->
  <script>
    const hero = document.getElementById("hero");
    const heroTitle = document.getElementById("heroTitle");
    const heroQuote = document.getElementById("heroQuote");

    function onScroll() {
      const scrollY = window.scrollY || window.pageYOffset;
      const heroHeight = hero.offsetHeight || 1;

      // 0 at top of hero, 1 at bottom of hero
      const progress = Math.min(Math.max(scrollY / heroHeight, 0), 1);

      // title lifts slightly and shrinks a bit as you scroll through hero
      const maxLift = -40; // px
      const translateY = maxLift * progress;
      const scale = 1 - 0.05 * progress;

      heroTitle.style.transform = `translateY(${translateY}px) scale(${scale})`;

      // quote appears once you're a bit into the hero
      if (progress > 0.15) {
        heroQuote.classList.add("visible");
      } else {
        heroQuote.classList.remove("visible");
      }
    }

    function onLoad() {
      // fade-in title
      heroTitle.classList.add("visible");
      onScroll(); // initialize scroll-based positions
    }

    window.addEventListener("load", onLoad);
    window.addEventListener("scroll", onScroll);
    window.addEventListener("resize", onScroll);
  </script>
</body>
</html>
